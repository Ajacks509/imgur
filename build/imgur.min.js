/*! imgur 2.0.0 | (c) 2015 Pedro RogÃ©rio | MIT License */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.Imgur=b()}(this,function(){"use strict";var a=function(b){if(!(this&&this instanceof a))return new a(b);if(b||(b={}),!b.clientid)throw"Provide a valid Client Id here: http://api.imgur.com/";this.clientid=b.clientid,this.endpoint="https://api.imgur.com/3/image",this.callback=b.callback||function(){},this.dropzone=document.querySelectorAll(".dropzone"),this.run()};return a.prototype={createEls:function(a,b,c){var d,e=document.createElement(a);for(d in b)b.hasOwnProperty(d)&&(e[d]=b[d]);return c&&e.appendChild(document.createTextNode(c)),e},createDragZone:function(){var a,b;a=this.createEls("p",{},"Drag your files here or click in this area."),b=this.createEls("input",{type:"file",accept:"image/*"}),Array.prototype.forEach.call(this.dropzone,function(c){c.appendChild(a),c.appendChild(b),this.upload(c)}.bind(this))},post:function(a,b,c){var d=new XMLHttpRequest;d.open("POST",a,!0),d.setRequestHeader("Authorization","Client-ID "+this.clientid),d.onreadystatechange=function(){if(4===this.readyState){if(!(this.status>=200&&this.status<400))throw new Error(this.status+" - "+this.statusText);var a="";try{a=JSON.parse(this.responseText)}catch(b){a=this.responseText}c.call(window,a)}},d.send(b),d=null},upload:function(a){var b,c,d,e,f;a.addEventListener("change",function(a){if(a.target&&"INPUT"===a.target.nodeName)for(d=a.target.files,e=0,f=d.length;f>e;e+=1)b=d[e],b.type.match(/image/)&&(c=new FormData,c.append("image",b),this.post(this.endpoint,c,function(a){this.callback(a)}.bind(this)))}.bind(this),!1)},run:function(){this.createDragZone()}},a});